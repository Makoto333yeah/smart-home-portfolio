<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio | Makoto Mita</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <header>
    <div class="logo">Makoto Mita</div>
    <nav>
      <a href="index.html">HOME</a>
      <a href="profile.html">PROFILE</a>
    </nav>
  </header>

  <main class="content">

    <!-- プロジェクト概要 -->
    <section class="card">
      <h2>スマートホーム開発</h2>
      <h3>電子暖炉と加湿器の自動制御</h3>
      <p>
        温湿度を計測し、可視化・自動制御するRaspberry Pi × ESP32ベースのスマートホームシステム。<br>  
        単なる遠隔操作ではなく、部屋の環境データを元に最適な状態へ調整する予見的な制御ロジックに挑戦しました。
      </p>

      <h3>SmartHomeダッシュボード</h3>
      <img src="assets/smarthome_screenshot.jpg" alt="Smart Home Dashboard" class="portfolio-image">

      <h3>Prototype｜実機構成</h3>
      <img src="assets/prototype.jpg" alt="Smart Home Dashboard" class="portfolio-image">

      <h3>デモ動画</h3>
      <div class="video-container">
        <video controls width="100%">
          <source src="assets/demo.mp4" type="video/mp4">
          動画を再生できません。
        </video>
      </div>
      <p>使用技術: Raspberry Pi / ESP32 / InfluxDB / Grafana / Python / Arduino</p>
    </section>

    <!-- システム構成（Architecture） -->
    <section class="card">
      <h2>Architecture｜システム構成</h2>
      <img src="assets/system_diagram.png" alt="System Architecture Diagram" class="portfolio-image">
      <ul>
        <li><strong>SHT31：</strong> 温湿度センサー（I2C通信）</li>
        <li><strong>Raspberry Pi 4：</strong> Pythonスクリプトで制御・DB格納</li>
        <li><strong>InfluxDB：</strong> 温湿度データを時系列で保存</li>
        <li><strong>Grafana：</strong> データを可視化・操作UIを提供</li>
        <li><strong>ESP32：</strong> HTTP経由で受信した信号を赤外線出力</li>
        <li><strong>家電：</strong> 電子暖炉・加湿器を制御</li>
      </ul>
      <h3>Data Flow｜データフロー</h3>
      <ol class="dataflow-list">
        <li><strong>① SHT31 → Raspberry Pi：</strong> 温湿度データをI2C通信で定期取得。</li>
        <li><strong>② Raspberry Pi → InfluxDB：</strong> Pythonスクリプトでセンサー値をDBに記録。</li>
        <li><strong>③ InfluxDB → Grafana：</strong> 保存されたデータをリアルタイムでグラフ化。</li>
        <li><strong>④ Grafana → ESP32：</strong> HTTPリクエストを送信して家電制御信号を発行。</li>
        <li><strong>⑤ ESP32 → 家電：</strong> 赤外線LEDで暖炉・加湿器をON/OFF制御。</li>
      </ol>
    </section>

    <!-- 実装内容（Implementation） -->
    <section class="card">
      <h2>Implementation｜実装内容</h2>
      <h3>センサー計測</h3>
      <p>
        Pythonの <code>smbus2</code> でSHT31から値を取得し、<code>influxdb-client</code> 経由でInfluxDBに記録。<br>  
        cronジョブで定期実行し、常時データを取得。
      </p>
      <h3>可視化</h3>
      <p>
        Grafanaでリアルタイムグラフ・数値表示・操作パネルを統合。<br>  
        HTML＋CSSのみでシンプルでわかりやすいUIを実装。
      </p>
      <h3>家電制御</h3>
      <p>
        Arduino IDEでESP32を開発し、HTTP経由で受け取った指令を赤外線に変換。<br>  
        家電リモコン信号をIR受信→送信モジュールで再現。<br>
        設定した温湿度の閾値で自動でON/OFF制御。
      </p>
    </section>

    <!-- 特徴・工夫（Design & Refinement） -->
    <section class="card">
      <h2>Design & Refinement｜特徴・工夫</h2>
      <ul>
        <li>温湿度の「見える化」と「操作」を1つのUIに集約</li>
        <li>ローカル完結構成により、プライバシー性と応答速度を両立</li>
        <li>ボタンやリモコンで遠隔で操作することなく、温湿度の閾値で家電を自動制御するような工夫</li>
      </ul>
    </section>

    <!-- 成果と学び（Outcomes & Learnings） -->
    <section class="card">
      <h2>Outcomes & Learnings｜成果と学び</h2>
      <ul>
        <li>IoTシステムの全工程（計測→保存→可視化→制御）を自力で構築できた</li>
        <li>ESP32・Raspberry Pi・InfluxDB・Grafanaの総合理解ができた</li>
        <li>自分が家で過ごす上での適温/適湿がそれぞれどの値なのかを知ることができた。</li>
      </ul>
      <p>
        今回は、IoT製品/スマートホームがどのようにして動いているのかを知りたいという欲求と、<br>
        リモコン操作をせず家をより心地よい空間にしたいと思ったことが今回の開発のきっかけです。<br>
        これまでエンジニアとしてやってきたこととは違う領域でしたが、<br>
        実際に触れられる機器やモジュールがあることで、何かを生み出したかのような<br>
        ワクワクと楽しさを感じることができました。<br>
        作業中以外も今回の開発をやりたいと思えるほど熱中できるものを見つけられたのは大きな成果だと思います。<br>
        まだまだ基礎的な部分の開発でもあるので、より高度な制御も引き続き学習していきます。
      </p>
    </section>

    <!-- 今後の展開（Next Steps） -->
    <section class="card">
      <h2>Next Steps｜今後考えている展開</h2>
      <ul>
        <li>HTTP制御からMQTTへ拡張（双方向通信対応）</li>
        <li>Home Assistant（Alexa） / ESPHomeとの統合</li>
        <li>温湿度トレンドから「快適度スコア」を算出・自動最適化</li>
      </ul>
    </section>

  </main>

  <footer>
    <p>© 2025 Makoto Mita</p>
  </footer>
</body>
</html>
